#version 330 core

uniform mat4 modelMatrix;
uniform mat4 viewMatrix;
uniform mat4 projMatrix;

layout(location = 0) in vec3 position;

struct PointLight {
	vec3 pos;
	float radius;
	vec4 colour;
};

layout(std430, binding = 0) readonly buffer lightSSBO {
	PointLight pointLights[];
};

uniform int lightIndex = 0;

void main (void) {
    PointLight light = pointLights[lightIndex];
	vec3 scale = vec3(light.radius);
	vec3 worldPos = (position * scale) + light.pos;
	gl_Position = (projMatrix * viewMatrix) * vec4(worldPos, 1.0);
}